// SPDX-License-Identifier: GPL-3.0-or-later
pragma solidity >=0.7.0 <0.9.0;
    
contract Remittance {
    address public owner;

    constructor() {
        owner = msg.sender;
    }

    struct RemittanceStruct {
        bytes32 hash;
        uint256 value;
    }

    mapping (bytes32 => RemittanceStruct) public remittances;

    function sendRemittance(address payable recipient, bytes32 hash) public payable {
        require(msg.value > 0, "Value must be greater than zero.");
        recipient.transfer(msg.value);
    }

    function createRemittance(bytes32 hash) public payable {
        require(msg.value > 0, "Value must be greater than zero.");

        RemittanceStruct storage remittance = remittances[hash];
        require(remittance.value == 0, "Remittance already exists.");

        remittance.hash = hash;
        remittance.value = msg.value;
    }

    function withdraw(bytes32 passphrase1, bytes32 passphrase2) public {
        bytes32 hash = keccak256(abi.encodePacked(passphrase1, passphrase2, msg.sender));
        RemittanceStruct storage remittance = remittances[hash];
        require(remittance.value > 0, "Remittance does not exist.");

        uint256 value = remittance.value;
        remittance.value = 0;
        msg.sender.transfer(value);
    }
}

// SPDX-License-Identifier: GPL-3.0-or-later
pragma solidity >=0.7.0 <0.9.0;

contract Remittance {
    address payable public owner;

    constructor() {
        owner = payable(msg.sender);
    }

    function sendRemittance(address payable recipient, bytes32 hash) public payable {
        require(msg.value > 0, "Value must be greater than zero.");
        recipient.transfer(msg.value);
    }
}

struct RemittanceStruct {
    bytes32 hash;
    uint256 value;
}

mapping (bytes32 => RemittanceStruct) public remittances;

function createRemittance(bytes32 hash) public payable {
    require(msg.value > 0, "Value must be greater than zero.");

    RemittanceStruct storage remittance = remittances[hash];
    require(remittance.value == 0, "Remittance already exists.");

    remittance.hash = hash;
    remittance.value = msg.value;
}

function withdraw(bytes32 passphrase1, bytes32 passphrase2) public {
    bytes32 hash = keccak256(abi.encodePacked(passphrase1, passphrase2, msg.sender));
    RemittanceStruct storage remittance = remittances[hash];
    require(remittance.value > 0, "Remittance does not exist.");

    uint256 value = remittance.value;
    remittance.value = 0;
    payable(msg.sender).transfer(value);
}
